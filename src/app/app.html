<ion-header *ngIf="!this.full_screen">
  <ion-navbar>
    <button ion-button menuToggle><ion-icon name="menu"></ion-icon></button>
    <ion-title>
      <img alt="Logo" id="logo-titulo" src="assets/images/logo-titulo.png">
    </ion-title>

    <ion-buttons *ngIf="user" end>
      <button ion-button icon-right large outline (click)="toggleUserMenu()">
        {{user.name}} {{user.surname}}

        <ion-icon name="contact"></ion-icon>
      </button>
    </ion-buttons>

  </ion-navbar>
</ion-header>

<ion-menu side="left" [content]="nav">
  <ion-header>
    <ion-toolbar>
      <ion-title>{{'MENU'|translate}}</ion-title>
    </ion-toolbar>
  </ion-header>

  <ion-content>
    <ion-list id="sidenav">
      <ng-container *ngFor="let p of displayed_pages">
        <button ion-item detail-none [menuClose]="p.subpages" (click)="openPage(p)">
          <ion-icon item-right name="{{p.icon}}"></ion-icon>
          {{p.title|translate}}
        </button>
        <ion-item-group *ngIf="p.subpages" submenu [class.visible]="p.show_subpages">
          <button submenu-item ion-item menuClose *ngFor="let subp of p.subpages" (click)="openPage(subp)">
            <ion-icon item-right name="{{subp.icon}}"></ion-icon>
            {{subp.title|translate}}
          </button>
        </ion-item-group>
      </ng-container>
      <button ion-item menuClose (click)="pruebaNotificacion()">
        Notificaci√≥n! (debug)
      </button>
    </ion-list>
  </ion-content>
</ion-menu>

<ion-menu *ngIf="user" side="right" [content]="nav">
  <ion-header>
    <ion-toolbar>
      <ion-title>
        <ion-icon name="contact"></ion-icon> {{user.name}} {{user.surname}}</ion-title>
    </ion-toolbar>
  </ion-header>

  <ion-content>
    <ion-list>
      <button ion-item menuClose="right" *ngFor="let p of user_profile_pages" (click)="openPage(p)">
        <ion-icon item-right name="{{p.icon}}"></ion-icon>
        {{p.title|translate}}
      </button>
      <button ion-item detail-none menuClose="right" (click)="logout()">
        <ion-icon item-right name="log-out"></ion-icon>
        {{"LOGOUT"|translate}}
      </button>
    </ion-list>
  </ion-content>
</ion-menu>

<ion-nav id="nav" [root]="rootPage" #nav swipeBackEnabled="false"></ion-nav>